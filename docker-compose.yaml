version: '3'

services:
  appointments:
    build:
      context: ./appointments
    image: rayed14/appointments:136522209f2341dbf8d942f765b4eb4ec045625c
    ports:
      - "7070:7070"
    environment:
      - DOCTORS_SERVICE_URL=doctors:9090
    networks:
      - doctor-appointment

  doctors:
    build:
      context: ./doctors
    image: rayed14/doctors:1b6d1d24c594c3bccfc4e37fc39f9c206346d7ce
    ports:
      - "9090:9090"
    networks:
      - doctor-appointment

  frontend:
    build:
      context: ./frontend
    image: rayed14/frontend:2ddd23e4d437619ea3ae53167ba8659f9b433727
    ports:
      - "3000:3000"
    environment:
      - DOCTORS_SERVICE_URL=doctors:9090
      - APPOINTMENTS_SERVICE_URL=appointments:7070
    networks:
      - doctor-appointment
    depends_on:
      - appointments
      - doctors

networks:
  doctor-appointment:
    driver: bridge