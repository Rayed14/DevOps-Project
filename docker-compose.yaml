version: '3'

services:
  appointments:
    build:
      context: ./appointments
    image: rayed14/appointments:dd38f6c0df05cdd8c8ec68b99ab19b913d343ae4
    ports:
      - "7070:7070"
    environment:
      - DOCTORS_SERVICE_URL=doctors:9090
    networks:
      - doctor-appointment

  doctors:
    build:
      context: ./doctors
    image: rayed14/doctors:1ddd010e3bfdf0356bb641a4d39b8f45032011df
    ports:
      - "9090:9090"
    networks:
      - doctor-appointment

  frontend:
    build:
      context: ./frontend
    image: rayed14/frontend:2ddd23e4d437619ea3ae53167ba8659f9b433727
    ports:
      - "3000:3000"
    environment:
      - DOCTORS_SERVICE_URL=doctors:9090
      - APPOINTMENTS_SERVICE_URL=appointments:7070
    networks:
      - doctor-appointment
    depends_on:
      - appointments
      - doctors

networks:
  doctor-appointment:
    driver: bridge